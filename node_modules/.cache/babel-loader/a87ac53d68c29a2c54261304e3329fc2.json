{"ast":null,"code":"var _jsxFileName = \"/Users/tharismac/Desktop/Year-04/Sem 02/Distributed Systems _ Cloud Computing/Project/movie_ds_FD/src/pages/addmovie/addmovie.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport \"../App.css\";\nimport axios from \"axios\";\nimport { Grid, TextField, Button, Card, CardContent, Typography } from \"@material-ui/core\";\nimport ButterToast, { Cinnamon } from \"butter-toast\";\nimport ErrorOutlineIcon from \"@material-ui/icons/ErrorOutline\";\nimport { useHistory } from \"react-router-dom\";\nimport TeacherDrawer from \"./Drawer/TeacherDrawer\";\nimport Swal from \"sweetalert2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AddMovie() {\n  _s();\n\n  const [fname, setFname] = useState(\"\");\n  const [lname, setLname] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [cpassword, setCpassword] = useState(\"\");\n  const [qualification, setQualification] = useState(\"\");\n  const [university, setUniversity] = useState(\"\");\n  const [photo, setPhoto] = useState(\"\");\n  const inputRef = React.useRef();\n  let history = useHistory();\n  useEffect(async () => {\n    userData();\n\n    if (localStorage.getItem(\"loginAccess\")) {\n      if (localStorage.getItem(\"type\") === \"teacher\") {} else {\n        if (localStorage.getItem(\"type\") === \"admin\") {\n          history.push(\"/admin\");\n        } else {\n          history.push(\"/student\");\n        }\n      }\n    } else {\n      history.push(\"/login\");\n    }\n  }, []);\n\n  const userData = async e => {\n    const url = \"http://localhost:4000/User/\" + localStorage.getItem(\"id\");\n    await axios.get(url, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(async res => {\n      console.log(res.data);\n      setFname(res.data.fname);\n      setLname(res.data.lname);\n      setPhone(res.data.phone);\n      setEmail(res.data.email);\n    });\n    const url1 = \"http://localhost:4000/Teacher/\" + localStorage.getItem(\"id\");\n    await axios.get(url1, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(async res => {\n      console.log(res.data);\n      setPhoto(res.data.photo);\n      setQualification(res.data.qualification);\n      setUniversity(res.data.university);\n    });\n  };\n\n  const setFnameForm = e => {\n    setFname(e.target.value);\n  };\n\n  const setLnameForm = e => {\n    setLname(e.target.value);\n  };\n\n  const setPhoneForm = e => {\n    setPhone(e.target.value);\n  };\n\n  const setEmailForm = e => {\n    setEmail(e.target.value);\n  };\n\n  const setPasswordForm = e => {\n    setPassword(e.target.value);\n  };\n\n  const setCpasswordForm = e => {\n    setCpassword(e.target.value);\n  };\n\n  const setPhotoForm = e => {\n    var selectedFile = e.target.files[0];\n    const data = new FormData();\n    data.append(\"file\", selectedFile);\n    axios.post(\"http://localhost:4000/Teacher/upload\", data, {}).then(res => {\n      console.log(res.data.filename);\n      setPhoto(res.data.filename);\n    });\n  };\n\n  const setQualificationForm = e => {\n    setQualification(e.target.value);\n  };\n\n  const setUniversityForm = e => {\n    setUniversity(e.target.value);\n  };\n\n  const onClear = () => {\n    setFname(\"\");\n    setLname(\"\");\n    setPhone(\"\");\n    setEmail(\"\");\n    setPassword(\"\");\n    setCpassword(\"\");\n    setPhoto(\"\");\n    setQualification(\"\");\n    setUniversity(\"\");\n    inputRef.current.focus();\n  };\n\n  const validation = () => {\n    var Error = false;\n\n    if (fname === \"\") {\n      Swal.fire({\n        icon: \"error\",\n        title: \"First Name Requried!\"\n      });\n      Error = true;\n    }\n\n    if (lname === \"\") {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Second Name Requried!\"\n      });\n      Error = true;\n    }\n\n    if (phone === \"\") {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Phone Number Requried!\"\n      });\n      Error = true;\n    }\n\n    if (email === \"\") {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Email Requried!\"\n      });\n      Error = true;\n    }\n\n    if (password === \"\") {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Password Requried!\"\n      });\n      Error = true;\n    }\n\n    if (cpassword === \"\") {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Confirm Password Requried!\"\n      });\n      Error = true;\n    } else if (password !== cpassword) {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Password Does Not Match\"\n      });\n      Error = true;\n    }\n\n    if (photo === \"\") {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Upload Your Photo\"\n      });\n      Error = true;\n    }\n\n    if (qualification === \"\") {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Add Your Qualifications\"\n      });\n      Error = true;\n    }\n\n    if (university === \"\") {\n      ButterToast.raise({\n        content: /*#__PURE__*/_jsxDEV(Cinnamon.Crisp, {\n          title: \"Validation Error!\",\n          content: \"University Required!\",\n          scheme: Cinnamon.Crisp.SCHEME_RED,\n          icon: /*#__PURE__*/_jsxDEV(ErrorOutlineIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)\n      });\n      Error = true;\n    }\n\n    if (Error) {\n      return false;\n    }\n\n    return true;\n  };\n\n  const SubmitForm = async e => {\n    e.preventDefault();\n\n    if (validation()) {\n      const url = \"http://localhost:4000/Teacher\";\n      const data = JSON.stringify({\n        id: localStorage.getItem(\"id\"),\n        fname: fname,\n        lname: lname,\n        phone: phone,\n        email: email,\n        password: password,\n        photo: photo,\n        qualification: qualification,\n        university: university\n      });\n      console.log(data);\n      await axios.post(url, data, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(async res => {\n        console.log(res);\n\n        if (res.data.err !== \"connection\") {\n          if (res.data.err === \"email\") {\n            setEmail(\"\");\n            Swal.fire({\n              icon: \"error\",\n              title: \"Email Already Exist\"\n            });\n          } else if (res.data.err !== \"already\") {\n            onClear();\n            userData();\n            Swal.fire({\n              icon: \"success\",\n              title: \"Profile Updated\"\n            });\n          } else {\n            ButterToast.raise({\n              content: /*#__PURE__*/_jsxDEV(Cinnamon.Crisp, {\n                title: \"Validation Error!\",\n                content: \"Already Exists!\",\n                scheme: Cinnamon.Crisp.SCHEME_RED,\n                icon: /*#__PURE__*/_jsxDEV(ErrorOutlineIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 19\n              }, this)\n            });\n          }\n        } else {\n          ButterToast.raise({\n            content: /*#__PURE__*/_jsxDEV(Cinnamon.Crisp, {\n              title: \"Validation Error!\",\n              content: \"Connection Error!\",\n              scheme: Cinnamon.Crisp.SCHEME_RED,\n              icon: /*#__PURE__*/_jsxDEV(ErrorOutlineIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 17\n            }, this)\n          });\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(TeacherDrawer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        style: {\n          maxWidth: 50 + \"%\",\n          padding: \"20px 5px\",\n          margin: \"0 auto\"\n        },\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            gutterBottom: true,\n            variant: \"h3\",\n            children: \"My Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            autoComplete: \"off\",\n            onSubmit: SubmitForm,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 2,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 6,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  type: \"text\",\n                  placeholder: \"First Name\",\n                  inputRef: inputRef,\n                  autoFocus: true,\n                  label: \"First Name\",\n                  variant: \"outlined\",\n                  name: \"fname\",\n                  value: fname,\n                  onChange: setFnameForm,\n                  fullWidth: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 6,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  type: \"text\",\n                  placeholder: \"Last Name\",\n                  label: \"Last Name\",\n                  variant: \"outlined\",\n                  name: \"lname\",\n                  value: lname,\n                  onChange: setLnameForm,\n                  fullWidth: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 6,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  type: \"number\",\n                  placeholder: \"Phone Number\",\n                  label: \"Phone Number\",\n                  variant: \"outlined\",\n                  name: \"phone\",\n                  value: phone,\n                  onChange: setPhoneForm,\n                  fullWidth: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 6,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  type: \"email\",\n                  placeholder: \"Email\",\n                  label: \"Email\",\n                  variant: \"outlined\",\n                  name: \"email\",\n                  value: email,\n                  onChange: setEmailForm,\n                  fullWidth: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 6,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  type: \"password\",\n                  placeholder: \"Password\",\n                  label: \"Password\",\n                  variant: \"outlined\",\n                  name: \"password\",\n                  value: password,\n                  onChange: setPasswordForm,\n                  fullWidth: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 6,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  type: \"password\",\n                  placeholder: \"Confirm Password\",\n                  label: \"Confirm Password\",\n                  variant: \"outlined\",\n                  name: \"cpassword\",\n                  value: cpassword,\n                  onChange: setCpasswordForm,\n                  fullWidth: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  type: \"text\",\n                  placeholder: \"Qualification\",\n                  label: \"Qualification\",\n                  variant: \"outlined\",\n                  name: \"qualification\",\n                  value: qualification,\n                  onChange: setQualificationForm,\n                  fullWidth: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  type: \"text\",\n                  placeholder: \"University\",\n                  label: \"University\",\n                  variant: \"outlined\",\n                  name: \"university\",\n                  value: university,\n                  onChange: setUniversityForm,\n                  fullWidth: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  type: \"file\",\n                  accept: \"image/*\",\n                  placeholder: \"Photo\",\n                  variant: \"outlined\",\n                  name: \"photo\",\n                  onChange: setPhotoForm,\n                  fullWidth: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 4,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"submit\",\n                  variant: \"contained\",\n                  color: \"primary\",\n                  fullWidth: true,\n                  children: \"Submit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 4,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"contained\",\n                  color: \"secondary\",\n                  onClick: () => onClear(),\n                  fullWidth: true,\n                  children: \"Clear\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 4,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  href: \"/teacher\",\n                  variant: \"contained\",\n                  style: {\n                    backgroundColor: \"#ff9100\",\n                    color: \"#ffffff\"\n                  },\n                  fullWidth: true,\n                  children: \"Back\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 288,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AddMovie, \"zOZv4BF3A5iEOCnw598ir/s39u8=\", false, function () {\n  return [useHistory];\n});\n\n_c = AddMovie;\nexport default AddMovie;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddMovie\");","map":{"version":3,"sources":["/Users/tharismac/Desktop/Year-04/Sem 02/Distributed Systems _ Cloud Computing/Project/movie_ds_FD/src/pages/addmovie/addmovie.js"],"names":["React","useState","useEffect","axios","Grid","TextField","Button","Card","CardContent","Typography","ButterToast","Cinnamon","ErrorOutlineIcon","useHistory","TeacherDrawer","Swal","AddMovie","fname","setFname","lname","setLname","phone","setPhone","email","setEmail","password","setPassword","cpassword","setCpassword","qualification","setQualification","university","setUniversity","photo","setPhoto","inputRef","useRef","history","userData","localStorage","getItem","push","e","url","get","headers","then","res","console","log","data","url1","setFnameForm","target","value","setLnameForm","setPhoneForm","setEmailForm","setPasswordForm","setCpasswordForm","setPhotoForm","selectedFile","files","FormData","append","post","filename","setQualificationForm","setUniversityForm","onClear","current","focus","validation","Error","fire","icon","title","raise","content","Crisp","SCHEME_RED","SubmitForm","preventDefault","JSON","stringify","id","err","maxWidth","padding","margin","backgroundColor","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"../App.css\";\nimport axios from \"axios\";\nimport {\n  Grid,\n  TextField,\n  Button,\n  Card,\n  CardContent,\n  Typography,\n} from \"@material-ui/core\";\nimport ButterToast, { Cinnamon } from \"butter-toast\";\nimport ErrorOutlineIcon from \"@material-ui/icons/ErrorOutline\";\nimport { useHistory } from \"react-router-dom\";\nimport TeacherDrawer from \"./Drawer/TeacherDrawer\";\nimport Swal from \"sweetalert2\";\n\nfunction AddMovie() {\n  const [fname, setFname] = useState(\"\");\n  const [lname, setLname] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [cpassword, setCpassword] = useState(\"\");\n  const [qualification, setQualification] = useState(\"\");\n  const [university, setUniversity] = useState(\"\");\n  const [photo, setPhoto] = useState(\"\");\n  const inputRef = React.useRef();\n  let history = useHistory();\n\n  useEffect(async () => {\n    userData();\n    if (localStorage.getItem(\"loginAccess\")) {\n      if (localStorage.getItem(\"type\") === \"teacher\") {\n      } else {\n        if (localStorage.getItem(\"type\") === \"admin\") {\n          history.push(\"/admin\");\n        } else {\n          history.push(\"/student\");\n        }\n      }\n    } else {\n      history.push(\"/login\");\n    }\n  }, []);\n\n  const userData = async (e) => {\n    const url = \"http://localhost:4000/User/\" + localStorage.getItem(\"id\");\n    await axios\n      .get(url, {\n        headers: { \"Content-Type\": \"application/json\" },\n      })\n      .then(async (res) => {\n        console.log(res.data);\n        setFname(res.data.fname);\n        setLname(res.data.lname);\n        setPhone(res.data.phone);\n        setEmail(res.data.email);\n      });\n    const url1 = \"http://localhost:4000/Teacher/\" + localStorage.getItem(\"id\");\n    await axios\n      .get(url1, {\n        headers: { \"Content-Type\": \"application/json\" },\n      })\n      .then(async (res) => {\n        console.log(res.data);\n        setPhoto(res.data.photo);\n        setQualification(res.data.qualification);\n        setUniversity(res.data.university);\n      });\n  };\n\n  const setFnameForm = (e) => {\n    setFname(e.target.value);\n  };\n\n  const setLnameForm = (e) => {\n    setLname(e.target.value);\n  };\n\n  const setPhoneForm = (e) => {\n    setPhone(e.target.value);\n  };\n\n  const setEmailForm = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const setPasswordForm = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const setCpasswordForm = (e) => {\n    setCpassword(e.target.value);\n  };\n\n  const setPhotoForm = (e) => {\n    var selectedFile = e.target.files[0];\n    const data = new FormData();\n    data.append(\"file\", selectedFile);\n    axios.post(\"http://localhost:4000/Teacher/upload\", data, {}).then((res) => {\n      console.log(res.data.filename);\n      setPhoto(res.data.filename);\n    });\n  };\n\n  const setQualificationForm = (e) => {\n    setQualification(e.target.value);\n  };\n\n  const setUniversityForm = (e) => {\n    setUniversity(e.target.value);\n  };\n\n  const onClear = () => {\n    setFname(\"\");\n    setLname(\"\");\n    setPhone(\"\");\n    setEmail(\"\");\n    setPassword(\"\");\n    setCpassword(\"\");\n    setPhoto(\"\");\n    setQualification(\"\");\n    setUniversity(\"\");\n    inputRef.current.focus();\n  };\n\n  const validation = () => {\n    var Error = false;\n\n    if (fname === \"\") {\n      Swal.fire({\n        icon: \"error\",\n        title: \"First Name Requried!\",\n      });\n      Error = true;\n    }\n\n    if (lname === \"\") {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Second Name Requried!\",\n      });\n      Error = true;\n    }\n\n    if (phone === \"\") {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Phone Number Requried!\",\n      });\n      Error = true;\n    }\n\n    if (email === \"\") {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Email Requried!\",\n      });\n      Error = true;\n    }\n\n    if (password === \"\") {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Password Requried!\",\n      });\n      Error = true;\n    }\n\n    if (cpassword === \"\") {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Confirm Password Requried!\",\n      });\n      Error = true;\n    } else if (password !== cpassword) {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Password Does Not Match\",\n      });\n      Error = true;\n    }\n\n    if (photo === \"\") {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Upload Your Photo\",\n      });\n      Error = true;\n    }\n\n    if (qualification === \"\") {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Add Your Qualifications\",\n      });\n      Error = true;\n    }\n\n    if (university === \"\") {\n      ButterToast.raise({\n        content: (\n          <Cinnamon.Crisp\n            title=\"Validation Error!\"\n            content=\"University Required!\"\n            scheme={Cinnamon.Crisp.SCHEME_RED}\n            icon={<ErrorOutlineIcon />}\n          />\n        ),\n      });\n      Error = true;\n    }\n\n    if (Error) {\n      return false;\n    }\n\n    return true;\n  };\n\n  const SubmitForm = async (e) => {\n    e.preventDefault();\n\n    if (validation()) {\n      const url = \"http://localhost:4000/Teacher\";\n      const data = JSON.stringify({\n        id: localStorage.getItem(\"id\"),\n        fname: fname,\n        lname: lname,\n        phone: phone,\n        email: email,\n        password: password,\n        photo: photo,\n        qualification: qualification,\n        university: university,\n      });\n      console.log(data);\n      await axios\n        .post(url, data, {\n          headers: { \"Content-Type\": \"application/json\" },\n        })\n        .then(async (res) => {\n          console.log(res);\n          if (res.data.err !== \"connection\") {\n            if (res.data.err === \"email\") {\n              setEmail(\"\");\n              Swal.fire({\n                icon: \"error\",\n                title: \"Email Already Exist\",\n              });\n            } else if (res.data.err !== \"already\") {\n              onClear();\n              userData();\n              Swal.fire({\n                icon: \"success\",\n                title: \"Profile Updated\",\n              });\n            } else {\n              ButterToast.raise({\n                content: (\n                  <Cinnamon.Crisp\n                    title=\"Validation Error!\"\n                    content=\"Already Exists!\"\n                    scheme={Cinnamon.Crisp.SCHEME_RED}\n                    icon={<ErrorOutlineIcon />}\n                  />\n                ),\n              });\n            }\n          } else {\n            ButterToast.raise({\n              content: (\n                <Cinnamon.Crisp\n                  title=\"Validation Error!\"\n                  content=\"Connection Error!\"\n                  scheme={Cinnamon.Crisp.SCHEME_RED}\n                  icon={<ErrorOutlineIcon />}\n                />\n              ),\n            });\n          }\n        });\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <TeacherDrawer />\n      <br />\n\n      <Grid>\n        <Card\n          style={{ maxWidth: 50 + \"%\", padding: \"20px 5px\", margin: \"0 auto\" }}\n        >\n          <CardContent>\n            <Typography gutterBottom variant=\"h3\">\n              My Profile\n            </Typography>\n            <br />\n            <form autoComplete=\"off\" onSubmit={SubmitForm}>\n              <Grid container spacing={2}>\n                <Grid item xs={6}>\n                  <TextField\n                    type=\"text\"\n                    placeholder=\"First Name\"\n                    inputRef={inputRef}\n                    autoFocus\n                    label=\"First Name\"\n                    variant=\"outlined\"\n                    name=\"fname\"\n                    value={fname}\n                    onChange={setFnameForm}\n                    fullWidth\n                  />\n                </Grid>\n                <Grid item xs={6}>\n                  <TextField\n                    type=\"text\"\n                    placeholder=\"Last Name\"\n                    label=\"Last Name\"\n                    variant=\"outlined\"\n                    name=\"lname\"\n                    value={lname}\n                    onChange={setLnameForm}\n                    fullWidth\n                  />\n                </Grid>\n                <Grid item xs={6}>\n                  <TextField\n                    type=\"number\"\n                    placeholder=\"Phone Number\"\n                    label=\"Phone Number\"\n                    variant=\"outlined\"\n                    name=\"phone\"\n                    value={phone}\n                    onChange={setPhoneForm}\n                    fullWidth\n                  />\n                </Grid>\n                <Grid item xs={6}>\n                  <TextField\n                    type=\"email\"\n                    placeholder=\"Email\"\n                    label=\"Email\"\n                    variant=\"outlined\"\n                    name=\"email\"\n                    value={email}\n                    onChange={setEmailForm}\n                    fullWidth\n                  />\n                </Grid>\n                <Grid item xs={6}>\n                  <TextField\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    label=\"Password\"\n                    variant=\"outlined\"\n                    name=\"password\"\n                    value={password}\n                    onChange={setPasswordForm}\n                    fullWidth\n                  />\n                </Grid>\n                <Grid item xs={6}>\n                  <TextField\n                    type=\"password\"\n                    placeholder=\"Confirm Password\"\n                    label=\"Confirm Password\"\n                    variant=\"outlined\"\n                    name=\"cpassword\"\n                    value={cpassword}\n                    onChange={setCpasswordForm}\n                    fullWidth\n                  />\n                </Grid>\n                <Grid item xs={12}>\n                  <TextField\n                    type=\"text\"\n                    placeholder=\"Qualification\"\n                    label=\"Qualification\"\n                    variant=\"outlined\"\n                    name=\"qualification\"\n                    value={qualification}\n                    onChange={setQualificationForm}\n                    fullWidth\n                  />\n                </Grid>\n                <Grid item xs={12}>\n                  <TextField\n                    type=\"text\"\n                    placeholder=\"University\"\n                    label=\"University\"\n                    variant=\"outlined\"\n                    name=\"university\"\n                    value={university}\n                    onChange={setUniversityForm}\n                    fullWidth\n                  />\n                </Grid>\n                <Grid item xs={12}>\n                  <TextField\n                    type=\"file\"\n                    accept=\"image/*\"\n                    placeholder=\"Photo\"\n                    variant=\"outlined\"\n                    name=\"photo\"\n                    onChange={setPhotoForm}\n                    fullWidth\n                  />\n                </Grid>\n                <Grid item xs={4}>\n                  <Button\n                    type=\"submit\"\n                    variant=\"contained\"\n                    color=\"primary\"\n                    fullWidth\n                  >\n                    Submit\n                  </Button>\n                </Grid>\n\n                <Grid item xs={4}>\n                  <Button\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    onClick={() => onClear()}\n                    fullWidth\n                  >\n                    Clear\n                  </Button>\n                </Grid>\n\n                <Grid item xs={4}>\n                  <Button\n                    href=\"/teacher\"\n                    variant=\"contained\"\n                    style={{ backgroundColor: \"#ff9100\", color: \"#ffffff\" }}\n                    fullWidth\n                  >\n                    Back\n                  </Button>\n                </Grid>\n              </Grid>\n            </form>\n          </CardContent>\n        </Card>\n      </Grid>\n      <br />\n    </div>\n  );\n}\n\nexport default AddMovie;\n"]},"metadata":{},"sourceType":"module"}